<!doctype html>
<html lang="ko">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0", user-scalable="no"></mata>
  <title>javaScript Flow</title>
</head>
<body>
  <div class="wrap">
    <div class="container">
      <script>
        /* 
        < 함수스코프 & 실행컨텍스트 >
        
        스코프(scope) : 변수의 유효범위
          - 발생 시점 : 함수가 정의 될 때 결정

        실행컨텍스트(execution context) : 실행되는 코드덩어리(추상적 개념)
          - 발생 시점 : 함수가 실행될 때 생성
          - 실행컨텍스트에는 호이스팅이 이루어진 후의 코드 본문과, this 바인딩(this는 얘야. 하고 연결) 등의 정보가 담긴다.
          - 즉 실행컨텍스트란, 사용자가 함수를 호출했을 때, 내부적으로 해당 함수를 실행하기위해 필요한 정보들을 모아놓은 집합체이다.
        */
        var a = 1;
        function outer(){
          console.log(a); // 1, value: 1

          function inner(){
            console.log(a); // 2, value: undefined
            var a = 3;
          }
          inner();
          console.log(a); // 3, value: 1
        }
        outer();
        console.log(a); // 4, value: 1

        /*
        0. 전역 실행 컨텍스트 생성. 스코프:global
        1. a 변수 선언
        2. outer 함수 선언(호이스팅). 스코프:global -> outer
        3. 변수 a에 1 할당
        4. outer 함수 호출
        5. inner 함수 선언(호이스팅). 스코프 : global -> outer -> inner
        6. a값 탐색. outer스코프에서 탐색 후 없으면 global에서 탐색. 1 출력
        7. inner 함수 실행, 실행컨텍스트 생성 
        8. 변수 a 선언
        9. a값 inner스코프에서 탐색, undefined 출력
        10. 변수 a에 3 할당
        11. inner 실행 컨텍스트 종료
        12. 변수 a값 outer스코프에서 탐색. 없으면 global에서 탐색, 1 출력
        13. outer 실행컨텍스트 종료
        14. 변수 a 값 global 스코프에서 탐색, 1출력
        15. 전역 실행컨텍스트 종료
        */
      </script>
    </div>
  </div>
</body>
</html>
